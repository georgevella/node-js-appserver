export * from "./lib/MobileAppRouteProvider"

export const TMobileAppRouteProvider : Symbol = Symbol.for("MobileAppRouteProvider");

import { Container } from "container-ioc";
import { ContainerConfiguration, registerModule } from "@jorge/lib-di";
import { MobileAppRouteProvider } from "./lib/MobileAppRouteProvider";
import { IExpressModule, IMiddlewareConfiguration } from "@jorge/lib-di-express";

class MobileAppModule implements IExpressModule {
  registerServices(container: ContainerConfiguration): void {
    container.register(TMobileAppRouteProvider, MobileAppRouteProvider);
  }

  registerMiddleware(configuration: IMiddlewareConfiguration):void{
    configuration.useRoutingMiddleware("/", TMobileAppRouteProvider);
  }
}

console.debug("app-mobile: registering modules");
registerModule(new MobileAppModule());