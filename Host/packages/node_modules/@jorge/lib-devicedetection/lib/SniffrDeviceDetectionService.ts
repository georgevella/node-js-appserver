import { Injectable } from "container-ioc";
import { IDeviceDetectionService, IDeviceInformation } from "./interfaces"
import { DeviceInformation } from "./DeviceInformation"
import * as sniffr from "sniffr";

@Injectable()
export class SniffrDeviceDetectionService implements IDeviceDetectionService {
  parseUserAgent(userAgent: string): IDeviceInformation {
    var s = new sniffr();
    s.sniff(userAgent);

    var result = new DeviceInformation(s.os.name, s.device.name, s.browser.name, true, false);

    return result;
  }
}
