import * as webpackMerge from 'webpack-merge';
import * as webpack from 'webpack';
import * as helpers from './helpers';
import * as commonConfig from './webpack.common';

const devConfiguration = webpackMerge(commonConfig.default, {
    devtool: "cheap-module-eval-source-map",

    output: {
        path: helpers.root("dist"),
        publicPath: "/",
        filename: "[name].js",
        chunkFilename: "[id].chunk.js"
    },

    plugins: [
        //new ExtractTextPlugin("[name].css"),
        new webpack.NamedModulesPlugin()
    ],

    devServer: {
        historyApiFallback: true,
        stats: "minimal",
        watchOptions: {
            // if you're using Docker you may need this
            // aggregateTimeout: 300,
            // poll: 1000,
            ignored: /node_modules/
        }
    }
});

export default devConfiguration;